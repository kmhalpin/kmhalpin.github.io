(this["webpackJsonpimage-transform"]=this["webpackJsonpimage-transform"]||[]).push([[0],{98:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(11),c=t.n(i),o=t(45),l=t(7),s=t(32),u=t(21),m=t(37),d=t(129),g=t(137),j=t(133),v=t(138),b=t(134),x=t(139),h=t(140),_=t(135);m.Texture.isTextureUrl=function(e){return e&&/\.(jpg|jpeg|png|ogv|webm|mp4|bmp)$/i.test(e.split("?")[0])};var p=new Image,O=function(e,n){p.onload=function(){var n=Math.min(window.innerWidth/360*300,360);e.setAttribute("style","width: ".concat(n,"px; height: ").concat(n*(p.height/p.width),"px;"))},p.src=n},f=t(6),y=[{url:"/sample/lena_gray.bmp",name:"Lena"},{url:"/sample/barbara_gray.bmp",name:"Barbara"},{url:"/sample/Chrysanthemum.jpg",name:"Chrysanthemum"},{url:"/sample/Desert.jpg",name:"Desert"},{url:"/sample/Hydrangeas.jpg",name:"Hydrangeas"},{url:"/sample/Jellyfish.jpg",name:"Jellyfish"},{url:"/sample/Koala.jpg",name:"Koala"},{url:"/sample/Lighthouse.jpg",name:"Lighthouse"},{url:"/sample/Penguins.jpg",name:"Penguins"},{url:"/sample/Tulips.jpg",name:"Tulips"}],P=Object(a.createRef)(),w=function(e){var n,t=e.mask,r=Object(a.useState)(null),i=Object(u.a)(r,2),c=i[0],o=i[1],l=Object(a.useState)(y[0].url),p=Object(u.a)(l,2),w=p[0],k=p[1],C=Object(a.useState)({u_mask:t,u_doGray:!1,u_slider:0}),D=Object(u.a)(C,2),L=D[0],S=D[1];return c instanceof m.Canvas&&(c.loadTexture("u_img",w),c.setUniforms(L),O(P.current,w)),Object(a.useEffect)((function(){S(Object(s.a)(Object(s.a)({},L),{},{u_mask:t})),o(new m.Canvas(P.current,{vertexString:"\nattribute vec2 a_position;\nattribute vec2 a_texcoord;\nattribute vec2 a_normal;\nattribute vec2 a_color;\n\nvarying vec2 v_texcoord;\nvarying vec2 v_normal;\nvarying vec2 v_color;\n\nvoid main() {\n  gl_Position = vec4(a_position, 0.0, 1.0);\n\n  v_texcoord = a_texcoord;\n  v_normal = a_normal;\n  v_color = a_color;\n}\n",fragmentString:"\nprecision lowp float;\n\nuniform sampler2D u_img;\nuniform vec2 u_resolution;\nuniform float u_mask;\nuniform float u_slider;\n\nuniform bool u_doGray;\n\nvarying vec2 v_texcoord;\n\nvec4 getPixel(sampler2D img, vec2 pixel) {\n  if(u_doGray) {\n    return vec4(vec3(dot(texture2D(img, pixel).rgb, vec3(1.0/3.0))), 1.0);\n  } else {\n    return texture2D(img, pixel);\n  }\n}\n\nvoid main() {\n  vec2 canvasPixel = vec2(1.0) / u_resolution;\n\n  vec4 n[9];\n  n[0] = getPixel(u_img, v_texcoord + canvasPixel * vec2(-1, -1));\n  n[1] = getPixel(u_img, v_texcoord + canvasPixel * vec2( 0, -1));\n  n[2] = getPixel(u_img, v_texcoord + canvasPixel * vec2( 1, -1));\n  n[3] = getPixel(u_img, v_texcoord + canvasPixel * vec2(-1,  0));\n  n[4] = getPixel(u_img, v_texcoord + canvasPixel * vec2( 0,  0));\n  n[5] = getPixel(u_img, v_texcoord + canvasPixel * vec2( 1,  0));\n  n[6] = getPixel(u_img, v_texcoord + canvasPixel * vec2(-1,  1));\n  n[7] = getPixel(u_img, v_texcoord + canvasPixel * vec2( 0,  1));\n  n[8] = getPixel(u_img, v_texcoord + canvasPixel * vec2( 1,  1));\n  \n  if(v_texcoord.x >= u_slider / 360.0){\n    vec4 sobel_x = n[2] + (u_mask * n[5]) + n[8] - (n[0] + (u_mask * n[3]) + n[6]);\n    vec4 sobel_y = n[0] + (u_mask * n[1]) + n[2] - (n[6] + (u_mask * n[7]) + n[8]);\n    vec4 sobel = sqrt((sobel_x * sobel_x) + (sobel_y * sobel_y));\n\n    gl_FragColor = vec4(sobel.rgb, 1);\n  } else {\n    gl_FragColor = n[4];\n  }\n}\n"}));var e=function(){return O(P.current,w)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),c instanceof m.Canvas&&c.destroy()}}),[t]),Object(f.jsxs)(d.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(f.jsxs)(d.a,{item:!0,children:[Object(f.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(f.jsx)("canvas",{ref:P})}),Object(f.jsx)(g.a,{color:"secondary",value:L.u_slider,valueLabelDisplay:"auto",step:1,min:0,max:(null===(n=P.current)||void 0===n?void 0:n.width)||0,onChange:function(e,n){return n>=0&&S(Object(s.a)(Object(s.a)({},L),{},{u_slider:n}))}})]}),Object(f.jsx)(d.a,{item:!0,xs:10,sm:10,md:10,lg:6,xl:4,children:Object(f.jsxs)(d.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(f.jsx)(d.a,{item:!0,xs:8,children:Object(f.jsxs)(j.a,{variant:"outlined",style:{width:"100%"},children:[Object(f.jsx)(v.a,{id:"demo-simple-select-outlined-label",children:"Pilih gambar"}),Object(f.jsx)(b.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:w,onChange:function(e){return k(e.target.value)},label:"Pilih gambar",children:y.map((function(e,n){return Object(f.jsxs)(x.a,{value:e.url,children:[Object(f.jsx)("img",{src:e.url,alt:e.name,height:25})," ",e.name]},n)}))})]})}),Object(f.jsx)(d.a,{item:!0,xs:4,children:Object(f.jsx)(h.a,{control:Object(f.jsx)(_.a,{checked:L.u_doGray,onChange:function(e){return S(Object(s.a)(Object(s.a)({},L),{},{u_doGray:e.target.checked}))},inputProps:{"aria-label":"primary checkbox"}}),label:"Hitam putih"})})]})})]})};w.defaultProps={mask:2};var k=w,C=function(){return Object(f.jsx)("p",{children:"soon"})};var D=function(){return Object(f.jsxs)(o.a,{children:[Object(f.jsxs)("nav",{children:[Object(f.jsx)(o.b,{to:"edge-detection-sobel",children:"Edge Detection (Sobel)"})," ",Object(f.jsx)(o.b,{to:"edge-detection-prewitt",children:"Edge Detection (Prewitt)"})," ",Object(f.jsx)(o.b,{to:"hough-transformation",children:"Hough Transformation"})]}),Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/",element:Object(f.jsx)("p",{children:"Welcome"})}),Object(f.jsx)(l.a,{path:"edge-detection-sobel",element:Object(f.jsx)(k,{mask:2})}),Object(f.jsx)(l.a,{path:"edge-detection-prewitt",element:Object(f.jsx)(k,{mask:1})}),Object(f.jsx)(l.a,{path:"hough-transformation",element:Object(f.jsx)(C,{})})]})]})},L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,141)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root")),L()}},[[98,1,2]]]);
//# sourceMappingURL=main.be9e47ef.chunk.js.map